---
title: Verification
description: Verify GRE tunnel and BGP configuration on BIG-IP, and troubleshoot common issues.
sidebar:
  order: 6
---

import PlaceholderForm from '../../components/PlaceholderFormWrapper.astro';

<PlaceholderForm />

## Verification

### BIG-IP

#### Tunnels

Run on each unit for its own tunnels:

```shell title="tmsh"
show net tunnels tunnel xc-ddos-c1t1-v4
show net tunnels tunnel xc-ddos-c1t1-v6
show net tunnels tunnel xc-ddos-c1t2-v4
show net tunnels tunnel xc-ddos-c1t2-v6
show net tunnels tunnel xc-ddos-c2t1-v4
show net tunnels tunnel xc-ddos-c2t1-v6
show net tunnels tunnel xc-ddos-c2t2-v4
show net tunnels tunnel xc-ddos-c2t2-v6
list net tunnels tunnel xc-ddos-c1t1-v4 all-properties
```

#### Self IPs

```shell title="tmsh"
list net self xc-ddos-*
```

#### Path Check

From each unit:

```shell title="tmsh"
# BIG-IP-A tunnels
ping xXC_C1_T1_INNER_V4x source xBIGIP_C1_T1_INNER_V4x
ping xXC_C2_T1_INNER_V4x source xBIGIP_C2_T1_INNER_V4x

# BIG-IP-B tunnels
ping xXC_C1_T2_INNER_V4x source xBIGIP_C1_T2_INNER_V4x
ping xXC_C2_T2_INNER_V4x source xBIGIP_C2_T2_INNER_V4x
```

#### BGP

In imish on each unit:

```shell title="imish"
show ip bgp summary
show ipv6 bgp summary
show ip bgp
show ipv6 bgp

# BIG-IP-A neighbors
show ip bgp neighbors xXC_C1_T1_INNER_V4x
show ip bgp neighbors xXC_C2_T1_INNER_V4x
show ip bgp neighbors xXC_C1_T1_INNER_V4x advertised-routes
show ip bgp neighbors xXC_C1_T1_INNER_V4x received-routes

# BIG-IP-B neighbors
show ip bgp neighbors xXC_C1_T2_INNER_V4x
show ip bgp neighbors xXC_C2_T2_INNER_V4x
show ip bgp neighbors xXC_C1_T2_INNER_V4x advertised-routes
show ip bgp neighbors xXC_C1_T2_INNER_V4x received-routes

show ip route
show ipv6 route
```

:::caution[Troubleshooting checklist]
If BGP does not establish:

1. Verify the GRE tunnel is up: `show net tunnels tunnel` should
   show state `up`.
1. Confirm `allow-service` includes `tcp:179` on the inner self IP.
1. Ping the remote inner IP through the tunnel.
1. Check BGP password matches on both sides (common cause of
   `NOTIFICATION` errors).
1. Verify prefix-lists and route-maps are applied correctly.
1. Check `show ip bgp neighbors <IP>` for the last error/reset
   reason.
1. On each HA unit, verify the unit's own tunnels are up and its
   own BGP neighbors are configured (not the other unit's).
:::

### XC Console

Navigate to **DDoS and Transit Services >
[DDoS Protection > Visibility](https://docs.cloud.f5.com/docs-v2/ddos-and-transit-services/how-tos/network-firewall/l3l4-ddos-mitigation)** to see:

- Traffic by network, zone, application.
- Blocked vs. allowed traffic.
- Attack details and scrubbing actions.

